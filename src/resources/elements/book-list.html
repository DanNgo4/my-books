<template>
  <require from="./book"></require>

  <require from="../value-converters/filter"></require>

  <div class="card">
    <div class="card-header form-inline">
      <!-- adds a new filter panel with a two-way binding on the searchTerm input field -->
      <div class="input-group">
        <span class="input-group-addon" id="filter-icon">
          <i class="fa fa-search" aria-hidden="true"></i>
        </span>

        <input 
          type="text" 
          placeholder="filter" 
          aria-describedby="filter-icon" 
          value.bind="searchTerm"
          class="form-control" />
      </div>
    </div>

    <ul class="books list-group list-group-flush"></ul>
      <book containerless
            repeat.for="book of books | filter:searchTerm"
            book.bind="book"
            search-term.bind="searchTerm"></book>
    </ul>
  </div>
</template>
