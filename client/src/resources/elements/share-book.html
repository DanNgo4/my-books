<template>
  <require from="./share-book-card.html"></require>
  <require from="../components/ux-font-block.html"></require>

  <!-- Dialog wrapping element -->
  <ux-dialog>
    <ux-dialog-body>
      <!-- adds the ux-font-block component to show the loading and complete states -->
      <ux-font-block show.bind="state != 'sharing'"
                     color.bind="fontColor"
                     font.bind="font">
      </ux-font-block>

      <!-- adds the share-book-card component and only shows in the sharing state -->
      <share-book-card show.bind="state == 'sharing'"
                       book.bind="book">
      </share-book-card>
    </ux-dialog-body>

    <!-- hides the footer once the user clicks OK to complete the share -->
    <ux-dialog-footer show.bind="state == 'sharing'">
      <!-- closes the dialog when the Cancel button is clicked -->
      <button click.trigger="controller.cancel()">
        Cancel
      </button>

      <!-- delegates the OK button-click event to the OK method, passing in the current book -->
       <button click.trigger="ok(book)">
        Ok
       </button>
    </ux-dialog-footer>
  </ux-dialog>
</template>
